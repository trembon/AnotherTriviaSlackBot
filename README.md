# Another Trivia Slack Bot
Just a trivia bot inspired by one of the trivia bots from IRC.

Printscreen with an example on how a trivia round will look like can be found down under the heading Printscreens.

## Commands
The trivia bot will listen for the following commands. The name of the bot can vary depending on your installation in step 1.5.
All commands starts with tagging the bot, for example `@triviabot start`. The name will vary depending on your installation in step 1.5.

| Command                       | Description                                                                                                  |                                                                                          
| ----------------------------- | ------------------------------------------------------------------------------------------------------------ |
| help                          | Shows a list of available commands.                                                                          |
| start                         | Starts a new trivia round with the specified default category.                                               |
| start `category`              | Starts a new trivia round with the specified category, if it exists.                                         |
| stop                          | Cancels the current active trivia round.                                                                     |
| categories                    | Shows a list of available categories.                                                                        |
| badquestion `X`               | Mark question X (The question number in the current round) as a bad question, so it will not be asked again. |

## Configuration
The configuration is placed in settings.json in standard JSON format.

| Parameter                      | Value      | Description                                                                                                           |
| ------------------------------ | ---------- | --------------------------------------------------------------------------------------------------------------------- |
| SlackAuthToken                 | string     | The 'API Token' generated by Slack.                                                                                   |
| ChannelName                    | string     | The channel the bot will be active in to listen for commands (like @triviabot start) and write questions in.          |
| AnnounceToChannelBeforeStart   | true/false | If the bot should announce to @channel when a new trivia round starts.                                                |
| StartDelaySecondsAfterAnnounce | integer    | Number of seconds to delay the first questions after the announce of a new round.                                     |
| QuestionsPerRound              | integer    | Number of questions per round.                                                                                        |
| ShowHintAfterSeconds           | integer    | The delay in seconds after a question is asked for the bot to show a hint to the answer.                              |
| ShowAnswerAfterSeconds         | integer    | How long the participants have to answer the question before the answer is shown and the next question will be asked. |
| DefaultCategory                | string     | The default category to start if no category was choosen with "@triviabot start"                                      |

## Installation

### Step 1 - Generating the SlackAuthToken

1. Open up your slack client.


2. Go to the "Apps & Integration" for the slack team.


3. Search for the app named "Bots".  
    The description of the app should be "Run code that listens and posts to your Slack team just as a user would.".
    
    
4. Click on "Add Configuration".


5. Choose what the bot should be called, then click "Add bot integration". Example: triviabot  
    Note: This name will be used for commands, like @triviabot start.


6. You can now change how the bot will appear in slack to the users. When done, click on "Save Integration".


7. Copy the value in the field "API Token" and place it in your configuration as the "SlackAuthToken".


### Step 2 - Setting up Slack

1. Create a channel for trivia, like "Trivia".


2. Enter the channel you just created.


3. Select the option to invite a team member to the channel and select the trivia bot.  
    The trivia bot will appear with the name what you choose to call it when creating the bot integration (like triviabot) in the list of team member.

	
### Step 3 - Start the bot

1. Open the file **settings.json** in your prefered editor.


2. Edit the settings to your liking.


3. Start the bot with **AnotherTriviaSlackBot.exe**.


4. Select the option **s** and wait untill the message _Press any key to stop the program_ is shown.


5. The bot should now be running.


### Step 4 - Installing the bot as a Windows service _(optional)_

1. Start the bot with **AnotherTriviaSlackBot.exe**.


2. Choose the option **i**.


3. Wait untill the message _Installing the service - complete_ appears.


4. Press any key and then close the application with the **q** option.


5. The bot will now start automatically with the computer.


## Printscreens

![Example of a trivia round](https://trembon.github.io/AnotherTriviaSlackBot/img/image1.PNG)